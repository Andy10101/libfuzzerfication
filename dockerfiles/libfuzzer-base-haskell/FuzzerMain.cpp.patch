--- FuzzerMain.cpp.orig	2016-06-17 21:08:41.176629143 +0000
+++ FuzzerMain.cpp	2016-06-17 21:20:52.506468949 +0000
@@ -12,11 +12,19 @@
 #include "FuzzerInterface.h"
 #include "FuzzerInternal.h"
 
+#include "HsFFI.h"
+
 extern "C" {
 // This function should be defined by the user.
 int LLVMFuzzerTestOneInput(const uint8_t *Data, size_t Size);
 }  // extern "C"
 
 int main(int argc, char **argv) {
-  return fuzzer::FuzzerDriver(&argc, &argv, LLVMFuzzerTestOneInput);
+  int ret = -1;
+
+  hs_init(&argc, &argv);
+  ret = fuzzer::FuzzerDriver(&argc, &argv, LLVMFuzzerTestOneInput);
+  hs_exit();
+
+  return ret;
 }
